<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/polymer/lib/mixins/gesture-event-listeners.html">
<link rel="import" href="../bower_components/aws-sdk/dist/aws-sdk.min.js">
<link rel="import" href="shared-styles.html">

<dom-module id="my-view3">
  <template>
    <style include="shared-styles">
      :host {
        display: block;

        padding: 10px;
      }
    </style>

    <div class="card">
      <form action="/api/recognize" method="post" enctype="multipart/form-data">
        <input type="file" accept="image/*;capture=camera" name="image" id="image">
        <br>
        <br>
        <input type="submit">
      </form>
      <div id="fb-root"></div>
    </div>
  </template>

  <script>
    class MyView3 extends Polymer.GestureEventListeners(Polymer.Element) {
      static get is() { return 'my-view3'; }

      constructor() {
        super();

        this.appId = '178738692739662';
        this.roleArn = 'arn:aws:iam::391578767873:role/fof-role';
        this.bucketName = 'fof-hack';
        AWS.config.region = 'ap-southeast-1';

        this.fbUserId;
        this.bucket = new AWS.S3({
          params: {
            Bucket: this.bucketName,
          },
        });

        this.fileChooser; // = this.$.chooser;
        this.button; // = this.$.upload;
        this.results; // = this.$.results;
      }

      ready() {
        super.ready();

        this.fileChooser = this.$.chooser;
        this.button = this.$.upload;
        this.results = this.$.results;
      }
    }

    window.customElements.define(MyView3.is, MyView3);
  </script>
</dom-module>
